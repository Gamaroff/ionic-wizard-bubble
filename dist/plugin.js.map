{"version":3,"file":"plugin.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst WizardBubble = registerPlugin('WizardBubble', {\n    web: () => import('./web').then(m => new m.WizardBubbleWeb()),\n});\nexport * from './definitions';\nexport { WizardBubble };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class WizardBubbleWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.currentStep = 0;\n        this.steps = [];\n        this.bubbleElement = null;\n        this.highlightElement = null;\n        this.options = null;\n    }\n    // Test properties\n    get testBubbleElement() { return this.bubbleElement; }\n    get testCurrentStep() { return this.currentStep; }\n    get testCurrentHighlight() { return this.highlightElement; }\n    testHighlightTarget(element) {\n        this.highlightTarget(element);\n    }\n    highlightTarget(element) {\n        if (!this.highlightElement) {\n            this.highlightElement = document.createElement('div');\n            this.highlightElement.style.position = 'absolute';\n            this.highlightElement.style.border = '2px solid blue';\n            this.highlightElement.style.pointerEvents = 'none';\n            document.body.appendChild(this.highlightElement);\n        }\n        const rect = element.getBoundingClientRect();\n        this.highlightElement.style.top = `${rect.top}px`;\n        this.highlightElement.style.left = `${rect.left}px`;\n        this.highlightElement.style.width = `${rect.width}px`;\n        this.highlightElement.style.height = `${rect.height}px`;\n    }\n    async hide() {\n        if (this.bubbleElement) {\n            document.body.removeChild(this.bubbleElement);\n            this.bubbleElement = null;\n        }\n        if (this.highlightElement) {\n            document.body.removeChild(this.highlightElement);\n            this.highlightElement = null;\n        }\n    }\n    async show(options) {\n        this.steps = options.steps;\n        this.currentStep = 0;\n        this.options = options;\n        // Create bubble element\n        this.bubbleElement = document.createElement('div');\n        this.bubbleElement.className = 'wizard-bubble';\n        document.body.appendChild(this.bubbleElement);\n        // Create highlight element\n        this.highlightElement = document.createElement('div');\n        this.highlightElement.style.position = 'absolute';\n        this.highlightElement.style.border = '2px solid blue';\n        this.highlightElement.style.pointerEvents = 'none';\n        document.body.appendChild(this.highlightElement);\n        // Apply theme\n        const theme = options.theme || {};\n        this.bubbleElement.style.backgroundColor = theme.backgroundColor || '#ffffff';\n        this.bubbleElement.style.color = theme.textColor || '#333333';\n        this.bubbleElement.style.padding = '15px';\n        this.bubbleElement.style.borderRadius = theme.borderRadius || '8px';\n        this.bubbleElement.style.boxShadow = '0 2px 10px rgba(0,0,0,0.1)';\n        this.bubbleElement.style.position = 'absolute';\n        this.bubbleElement.style.zIndex = '1000';\n        this.bubbleElement.style.maxWidth = '300px';\n        await this.showStep();\n    }\n    async showStep() {\n        if (!this.bubbleElement || !this.options)\n            return;\n        const step = this.steps[this.currentStep];\n        const targetElement = document.getElementById(step.targetId);\n        if (!targetElement) {\n            throw new Error(`Target element with ID ${step.targetId} not found`);\n        }\n        // Update bubble content\n        this.bubbleElement.textContent = step.text;\n        // Position bubble near target\n        const targetRect = targetElement.getBoundingClientRect();\n        this.bubbleElement.style.top = `${targetRect.bottom + 10}px`;\n        this.bubbleElement.style.left = `${targetRect.left}px`;\n        // Highlight target\n        this.highlightTarget(targetElement);\n    }\n    async next() {\n        if (this.currentStep < this.steps.length - 1) {\n            this.currentStep++;\n            await this.showStep();\n            return { isFinished: false };\n        }\n        else {\n            await this.hide();\n            return { isFinished: true };\n        }\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":";;;;;;AACK,UAAC,YAAY,GAAGA,mBAAc,CAAC,cAAc,EAAE;IACpD,IAAI,GAAG,EAAE,MAAM,mDAAe,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,eAAe,EAAE,CAAC;IACjE,CAAC;;ICFM,MAAM,eAAe,SAASC,cAAS,CAAC;IAC/C,IAAI,WAAW,GAAG;IAClB,QAAQ,KAAK,CAAC,GAAG,SAAS,CAAC,CAAC;IAC5B,QAAQ,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;IAC7B,QAAQ,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IACxB,QAAQ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAClC,QAAQ,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;IACrC,QAAQ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IAC5B,KAAK;IACL;IACA,IAAI,IAAI,iBAAiB,GAAG,EAAE,OAAO,IAAI,CAAC,aAAa,CAAC,EAAE;IAC1D,IAAI,IAAI,eAAe,GAAG,EAAE,OAAO,IAAI,CAAC,WAAW,CAAC,EAAE;IACtD,IAAI,IAAI,oBAAoB,GAAG,EAAE,OAAO,IAAI,CAAC,gBAAgB,CAAC,EAAE;IAChE,IAAI,mBAAmB,CAAC,OAAO,EAAE;IACjC,QAAQ,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IACtC,KAAK;IACL,IAAI,eAAe,CAAC,OAAO,EAAE;IAC7B,QAAQ,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;IACpC,YAAY,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAClE,YAAY,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;IAC9D,YAAY,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,MAAM,GAAG,gBAAgB,CAAC;IAClE,YAAY,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAC;IAC/D,YAAY,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAC7D,SAAS;IACT,QAAQ,MAAM,IAAI,GAAG,OAAO,CAAC,qBAAqB,EAAE,CAAC;IACrD,QAAQ,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1D,QAAQ,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC5D,QAAQ,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IAC9D,QAAQ,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAChE,KAAK;IACL,IAAI,MAAM,IAAI,GAAG;IACjB,QAAQ,IAAI,IAAI,CAAC,aAAa,EAAE;IAChC,YAAY,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IAC1D,YAAY,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IACtC,SAAS;IACT,QAAQ,IAAI,IAAI,CAAC,gBAAgB,EAAE;IACnC,YAAY,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAC7D,YAAY,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;IACzC,SAAS;IACT,KAAK;IACL,IAAI,MAAM,IAAI,CAAC,OAAO,EAAE;IACxB,QAAQ,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;IACnC,QAAQ,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;IAC7B,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IAC/B;IACA,QAAQ,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC3D,QAAQ,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,eAAe,CAAC;IACvD,QAAQ,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACtD;IACA,QAAQ,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC9D,QAAQ,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;IAC1D,QAAQ,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,MAAM,GAAG,gBAAgB,CAAC;IAC9D,QAAQ,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAC;IAC3D,QAAQ,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACzD;IACA,QAAQ,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC;IAC1C,QAAQ,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC,eAAe,IAAI,SAAS,CAAC;IACtF,QAAQ,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,IAAI,SAAS,CAAC;IACtE,QAAQ,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;IAClD,QAAQ,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,YAAY,IAAI,KAAK,CAAC;IAC5E,QAAQ,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,4BAA4B,CAAC;IAC1E,QAAQ,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;IACvD,QAAQ,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;IACjD,QAAQ,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC;IACpD,QAAQ,MAAM,IAAI,CAAC,QAAQ,EAAE,CAAC;IAC9B,KAAK;IACL,IAAI,MAAM,QAAQ,GAAG;IACrB,QAAQ,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,OAAO;IAChD,YAAY,OAAO;IACnB,QAAQ,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAClD,QAAQ,MAAM,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACrE,QAAQ,IAAI,CAAC,aAAa,EAAE;IAC5B,YAAY,MAAM,IAAI,KAAK,CAAC,CAAC,uBAAuB,EAAE,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;IACjF,SAAS;IACT;IACA,QAAQ,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;IACnD;IACA,QAAQ,MAAM,UAAU,GAAG,aAAa,CAAC,qBAAqB,EAAE,CAAC;IACjE,QAAQ,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,UAAU,CAAC,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;IACrE,QAAQ,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,EAAE,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC/D;IACA,QAAQ,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;IAC5C,KAAK;IACL,IAAI,MAAM,IAAI,GAAG;IACjB,QAAQ,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;IACtD,YAAY,IAAI,CAAC,WAAW,EAAE,CAAC;IAC/B,YAAY,MAAM,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClC,YAAY,OAAO,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC;IACzC,SAAS;IACT,aAAa;IACb,YAAY,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;IAC9B,YAAY,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;IACxC,SAAS;IACT,KAAK;IACL;;;;;;;;;;;;;;;"}