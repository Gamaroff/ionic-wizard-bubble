{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst WizardBubble = registerPlugin('WizardBubble', {\n    web: () => import('./web').then(m => new m.WizardBubbleWeb()),\n});\nexport * from './definitions';\nexport { WizardBubble };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class WizardBubbleWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.currentStep = 0;\n        this.steps = [];\n        this.bubbleElement = null;\n        this.highlightElement = null;\n        this.options = null;\n    }\n    // Test properties\n    get testBubbleElement() { return this.bubbleElement; }\n    get testCurrentStep() { return this.currentStep; }\n    get testCurrentHighlight() { return this.highlightElement; }\n    testHighlightTarget(element) {\n        this.highlightTarget(element);\n    }\n    highlightTarget(element) {\n        if (!this.highlightElement) {\n            this.highlightElement = document.createElement('div');\n            this.highlightElement.style.position = 'absolute';\n            this.highlightElement.style.border = '2px solid blue';\n            this.highlightElement.style.pointerEvents = 'none';\n            document.body.appendChild(this.highlightElement);\n        }\n        const rect = element.getBoundingClientRect();\n        this.highlightElement.style.top = `${rect.top}px`;\n        this.highlightElement.style.left = `${rect.left}px`;\n        this.highlightElement.style.width = `${rect.width}px`;\n        this.highlightElement.style.height = `${rect.height}px`;\n    }\n    async hide() {\n        if (this.bubbleElement) {\n            document.body.removeChild(this.bubbleElement);\n            this.bubbleElement = null;\n        }\n        if (this.highlightElement) {\n            document.body.removeChild(this.highlightElement);\n            this.highlightElement = null;\n        }\n    }\n    async show(options) {\n        this.steps = options.steps;\n        this.currentStep = 0;\n        this.options = options;\n        // Create bubble element\n        this.bubbleElement = document.createElement('div');\n        this.bubbleElement.className = 'wizard-bubble';\n        document.body.appendChild(this.bubbleElement);\n        // Create highlight element\n        this.highlightElement = document.createElement('div');\n        this.highlightElement.style.position = 'absolute';\n        this.highlightElement.style.border = '2px solid blue';\n        this.highlightElement.style.pointerEvents = 'none';\n        document.body.appendChild(this.highlightElement);\n        // Apply theme\n        const theme = options.theme || {};\n        this.bubbleElement.style.backgroundColor = theme.backgroundColor || '#ffffff';\n        this.bubbleElement.style.color = theme.textColor || '#333333';\n        this.bubbleElement.style.padding = '15px';\n        this.bubbleElement.style.borderRadius = theme.borderRadius || '8px';\n        this.bubbleElement.style.boxShadow = '0 2px 10px rgba(0,0,0,0.1)';\n        this.bubbleElement.style.position = 'absolute';\n        this.bubbleElement.style.zIndex = '1000';\n        this.bubbleElement.style.maxWidth = '300px';\n        await this.showStep();\n    }\n    async showStep() {\n        if (!this.bubbleElement || !this.options)\n            return;\n        const step = this.steps[this.currentStep];\n        const targetElement = document.getElementById(step.targetId);\n        if (!targetElement) {\n            throw new Error(`Target element with ID ${step.targetId} not found`);\n        }\n        // Update bubble content\n        this.bubbleElement.textContent = step.text;\n        // Position bubble near target\n        const targetRect = targetElement.getBoundingClientRect();\n        this.bubbleElement.style.top = `${targetRect.bottom + 10}px`;\n        this.bubbleElement.style.left = `${targetRect.left}px`;\n        // Highlight target\n        this.highlightTarget(targetElement);\n    }\n    async next() {\n        if (this.currentStep < this.steps.length - 1) {\n            this.currentStep++;\n            await this.showStep();\n            return { isFinished: false };\n        }\n        else {\n            await this.hide();\n            return { isFinished: true };\n        }\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":"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"}